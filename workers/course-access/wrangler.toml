name = "course-access"
main = "worker.js"
compatibility_date = "2024-01-01"

[vars]
ALLOWED_ORIGINS = "https://gravelgodcycling.com"

[[d1_databases]]
binding = "DB"
database_name = "course-platform"
database_id = "REPLACE_WITH_D1_DATABASE_ID"

# Secrets (set via: wrangler secret put SECRET_NAME)
# STRIPE_WEBHOOK_SECRET    — Stripe webhook signing secret
# SENDGRID_API_KEY         — SendGrid API key (mail send)
# NOTIFICATION_EMAIL       — Where purchase notifications go
# ADMIN_API_KEY            — Admin dashboard + grant endpoint auth
# NUDGE_UNSUBSCRIBE_SECRET — HMAC key for unsubscribe tokens
